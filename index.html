<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self';
    style-src-elem 'self' https://unpkg.com;
    script-src-elem 'self' https://elfalem.github.io/Leaflet.curve/src/leaflet.curve.js https://unpkg.com https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js 
    https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js https://cdn.jsdelivr.net/npm/chart.js;
    img-src 'self' https://unpkg.com https://tile.openstreetmap.org https://tiles.stadiamaps.com data:;
    connect-src 'self' data:;
    script-src 'self' 'unsafe-eval' 'unsafe-hashes' 'unsafe-inline';">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
    crossorigin=""/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
    crossorigin=""></script>
    <script src="https://elfalem.github.io/Leaflet.curve/src/leaflet.curve.js"></script>
    <link rel="stylesheet" href="index.css">
    
    <title>Youbike2.0 KTown</title>
  </head>
  <body>
    
    <div class="container">
      <div id="ct7"></div>
      <div id="search-box">
        <label for="site-search">搜尋站點</label><br>
        <input type="search" placeholder="輸入ID"id="site-search" name="q">
        <button onclick="search_station()">搜尋</button>
      </div>
      <div id="invalid-msg">無效ID</div>  
      <div id="valid-msg">查詢成功</div> 
      <div id="map"></div>
      <div class="icon-list">圖示標記 &#9660<br>
          <img src="img/safe.png" width="16" height="16">營運
          <img src="img/nobike.png" width="16" height="16">空站
          <img src="img/nospace.png" width="16" height="16">滿站
          <img src="img/sleep.png" width="16" height="16">維修
          <img src="img/truck.png" width="16" height="16">貨車
      </div>
      <div id="mydiv">
        <div id="stationname"></div>
        <div id="total"></div>
        <div id="bike"></div>
        <div id="free"></div>
        <div id="triprecord"></div>
      </div>
      
    </div>
    <div class="bottom-container">
      <div class="unbalance">
        <div id="selection">
          <ul>
            <li><button class="active" id="btn-all">整體</button></li>
            <li><button id="btn-mod">維修</button></li>
            <li><button id="btn-full">滿站</button></li>
            <li><button id="btn-empty">空站</button></li>
          </ul>
        </div>
        <div id="unbalance-list"></div>
        <div class="total">營運：<span id="goodcount"></span> 維護：<span id="sleepingcount"></span> 不平衡：<span id="unbalancecount"></span></div>
      </div>
      <div class="weather">
        <div class="weatherinfo">
          <div id="weathertype">天氣：<span id="wtype"></span> </div>
          <div id="temptitle">氣溫：<span id="temp"></span> </div>
          <div id="humidtitle">濕度：<span id="humidity"></span> </div>
          <div id="tempmintitle">最低溫：<span id="tempmin"></span> </div>
          <div id="tempmaxtitle">最高溫：<span id="tempmax"></span> </div>
          <div id="pressuretitle">氣壓：<span id="pressure"></span> </div>
          <div id="windtitile">風速：<span id="wind"></span> </div>
          <div id="cloudtitle">雲量：<span id="cloud"></span> </div>
          <div id="raintitle">雨量：<span id="rain"></span> </div>
        </div>
        <div class="chart-container">
          <div class="chart">
            <canvas id="myChart"></canvas>
          </div>
          <div class="chart">
            <canvas id="myChart1"></canvas>
          </div>
        </div>
        
        
      </div>
      <div class="dummy1">
        <div class="chart">
          <canvas id="hourchart"></canvas>
        </div>
      </div>
      <div class="dummy2">
        
      </div>  
    </div>
    
    
    <script src="leaflet.curve.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="leaflet-providers.js"></script>
    <script defer src="renderer.js"></script>
  </body>
</html>